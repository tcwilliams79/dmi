{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://dmianalysis.org/schemas/observation.schema.json",
  "title": "DMI Observation (staging)",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "dataset_id": {
      "type": "string",
      "description": "Dataset identifier (e.g., BLS_CPI, BLS_LAUS)."
    },
    "series_id": {
      "type": "string",
      "description": "Provider series id."
    },
    "geo_id": {
      "type": "string",
      "description": "Geography identifier (e.g., US, US-NJ, MSA-35620)."
    },
    "category_id": {
      "type": [
        "string",
        "null"
      ],
      "description": "Category id (CPI category or null if not applicable)."
    },
    "period": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}$",
      "description": "Observation period YYYY-MM."
    },
    "value": {
      "type": "number"
    },
    "unit": {
      "type": "string"
    },
    "seasonal_adjustment": {
      "type": [
        "string",
        "null"
      ],
      "description": "Seasonal adjustment code if applicable."
    },
    "footnotes": {
      "description": "Provider footnotes (raw).",
      "oneOf": [
        {
          "type": "string"
        },
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      ]
    },
    "source_url": {
      "type": "string",
      "format": "uri"
    },
    "retrieval_timestamp": {
      "type": "string",
      "format": "date-time"
    },
    "release_id": {
      "type": "string",
      "description": "Release identifier (e.g., BLS_CPI_2025-11)."
    },
    "raw_checksum": {
      "type": [
        "string",
        "null"
      ],
      "description": "Checksum of the raw artifact that contained this value."
    }
  },
  "required": [
    "dataset_id",
    "series_id",
    "geo_id",
    "period",
    "value",
    "unit",
    "source_url",
    "retrieval_timestamp",
    "release_id"
  ]
}